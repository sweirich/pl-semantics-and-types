\newcommand\scw[1]{\ifcomments\emph{\textcolor{violet}{#1}}\fi}

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{conjecture}{Conjecture}[section]

% Repository location
\newcommand\pfloc{https://github.com/sweirich/pl-semantics-and-types/}
% Create a link to the Coq/Rocq development
%
% #1 the filename 
% #2 the definition
% #3 text to display in the link
%% hyperlink, no footnote
\newcommand*\link[3]{%
%%  \href{\pfloc tree/main/#1}{{#2}\,\raisebox{-1pt}{\footnotesize\FourStarOpen}\!\!}
  \href{\pfloc blob/main/rocq/#1}{{#3}\!\!}
}


\newcommand\stlc{\textsc{STLC}}
\newcommand\rec{\textsc{REC}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Typesetting source code

\usepackage{listings}
\lstset{
  language=[Objective]Caml,
  basicstyle=\upshape\ttfamily,
  framexleftmargin=1ex,
  framexrightmargin=1ex,
  showstringspaces=false,
  commentstyle=\itshape\ttfamily,
  columns=fixed,
  stringstyle=\ttfamily,
  mathescape=true,
  escapeinside={;*}{*;}
}

\newcommand{\codeplus}[3]{%
  \lstinputlisting[%
        #3,
        linerange={#2},
        columns=fixed,
        rangebeginprefix=(*\ begin\ ,%
        rangebeginsuffix=\ *),%
        rangeendprefix=(*\ end\ ,%
        rangeendsuffix=\ *),
        includerangemarker=false]{#1}}
\newcommand{\code}[2]{\codeplus{#1}{#2}{}}

\newcommand\cd[1]{\lstinline[language=Caml]{#1}}
